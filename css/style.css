    font-size: 20px;


}




/* Nav Section (collapsible) */


.nav-section {


    margin-bottom: var(--spacing-sm);


}





.nav-section-toggle {


    width: 100%;


    display: flex;


    align-items: center;


    gap: var(--spacing-md);


    padding: var(--spacing-md);


    background: transparent;


    border: none;


    color: var(--text-secondary);


    text-align: left;


    border-radius: var(--radius-md);


    cursor: pointer;


    transition: all var(--transition);


    font-size: 14px;


}





.nav-section-toggle:hover {


    background: var(--bg-tertiary);


    color: var(--text-primary);


}





.nav-section-toggle .toggle-icon {


    margin-left: auto;


    font-size: 12px;


    transition: transform 0.2s ease;


}





.nav-section-toggle.collapsed .toggle-icon {


    transform: rotate(-90deg);


}





.nav-subsection {


    list-style: none;


    padding-left: var(--spacing-md);


    max-height: 500px;


    overflow: hidden;


    transition: max-height 0.3s ease, opacity 0.3s ease;


    opacity: 1;


}





.nav-subsection.collapsed {


    max-height: 0;


    opacity: 0;


}





.nav-sublink {


    padding-left: calc(var(--spacing-md) + 20px);


    font-size: 13px;


}




/* ===== MAIN CONTENT AREA ===== */

.main-content {

    flex: 1;

@@ -1157,6 +1212,55 @@ body {

    background: var(--border);

}




/* Hamburger menu now on both desktop and mobile */





/* ===== TOP MENU DROPDOWN (MOBILE) ===== */


.top-menu-dropdown {


    display: none;


    position: absolute;


    top: 64px;


    right: 16px;


    background: var(--bg-secondary);


    border: 1px solid var(--border);


    border-radius: var(--radius-md);


    min-width: 200px;


    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);


    z-index: 1000;


    animation: fadeIn 0.2s ease;


}





.top-menu-dropdown.active {


    display: block;


}





.top-menu-item {


    display: flex;


    align-items: center;


    gap: var(--spacing-md);


    padding: var(--spacing-md);


    color: var(--text-primary);


    cursor: pointer;


    transition: background 0.2s ease;


}





.top-menu-item:hover {


    background: var(--bg-tertiary);


}





.top-menu-item .icon {


    font-size: 18px;


}





.top-menu-divider {


    height: 1px;


    background: var(--border);


    margin: var(--spacing-sm) 0;


}





#top-menu-user-section {


    padding: var(--spacing-sm);


}




/* ===== MORE MENU (MOBILE) ===== */

.nav-link-mobile-only {

    display: none;

@@ -1271,6 +1375,11 @@ body {

        display: block;

    }




    /* Hide collapsible sections on mobile */


    .nav-section {


        display: none !important;


    }




    .sidebar {

        position: fixed;

        bottom: 0;

@@ -1354,17 +1463,13 @@ body {

        font-size: 18px;

    }




    /* Hide some top bar items on mobile */


    .quick-search {


        display: none;


    }





    #user-info span {


        display: none; /* Hide name, just show profile pic */


    /* User info always in dropdown on mobile */


    #user-info {


        display: none !important;

    }




    #user-info {


        gap: 4px !important;


    #google-login-btn {


        display: none !important;

    }



    /* Grid layouts */

@@ -1604,5 +1709,3 @@ body.light-mode {

    outline: none;

    border-color: var(--accent);

}









Collapse file: index.html‚Äéindex.html‚Äé
Copy file name to clipboard
Expand all lines: index.html+56-31Lines changed: 56 additions & 31 deletions
Original file line numberDiff line numberDiff line change
@@ -10,7 +10,7 @@

    <meta http-equiv="Pragma" content="no-cache">

    <meta http-equiv="Expires" content="0">

    <title>TaskFlow - Student Task Manager</title>


    <link rel="stylesheet" href="css/style.css?v=18">


    <link rel="stylesheet" href="css/style.css?v=20">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

</head>

@@ -25,30 +25,44 @@ <h1 class="app-title">TaskFlow</h1>

                <span class="icon">üè†</span>

                <span>Dashboard</span>

            </a></li>


            <li><a href="#" data-page="notes" class="nav-link nav-link-desktop">


                <span class="icon">üìù</span>


                <span>Notes</span>


            </a></li>


            <li><a href="#" data-page="calendar" class="nav-link nav-link-desktop">


                <span class="icon">üìÖ</span>


                <span>Calendar</span>


            </a></li>

            <li><a href="#" data-page="storage" class="nav-link">

                <span class="icon">üíæ</span>

                <span>Storage</span>

            </a></li>


            <li><a href="#" data-page="timer" class="nav-link nav-link-desktop">


                <span class="icon">‚è±Ô∏è</span>


                <span>Timer</span>


            </a></li>


            <li><a href="#" data-page="wheel" class="nav-link nav-link-desktop">


                <span class="icon">üéØ</span>


                <span>Wheel</span>


            </a></li>





            <!-- Tools Section (collapsible on desktop) -->


            <li class="nav-section">


                <button class="nav-section-toggle" id="tools-toggle">


                    <span class="icon">üõ†Ô∏è</span>


                    <span>Tools</span>


                    <span class="toggle-icon">‚ñº</span>


                </button>


                <ul class="nav-subsection" id="tools-section">


                    <li><a href="#" data-page="notes" class="nav-link nav-sublink">


                        <span class="icon">üìù</span>


                        <span>Notes</span>


                    </a></li>


                    <li><a href="#" data-page="calendar" class="nav-link nav-sublink">


                        <span class="icon">üìÖ</span>


                        <span>Calendar</span>


                    </a></li>


                    <li><a href="#" data-page="timer" class="nav-link nav-sublink">


                        <span class="icon">‚è±Ô∏è</span>


                        <span>Timer</span>


                    </a></li>


                    <li><a href="#" data-page="wheel" class="nav-link nav-sublink">


                        <span class="icon">üéØ</span>


                        <span>Wheel</span>


                    </a></li>


                </ul>


            </li>




            <li><a href="#" data-page="settings" class="nav-link">

                <span class="icon">‚öôÔ∏è</span>

                <span>Settings</span>

            </a></li>





            <!-- Mobile More button -->

            <li class="nav-link-mobile-only"><a href="#" id="more-menu-btn" class="nav-link">

                <span class="icon">‚ãÆ</span>

                <span>More</span>

@@ -90,18 +104,30 @@ <h3>More Options</h3>

        <header class="top-bar">

            <h2 class="page-title">Dashboard</h2>

            <div class="top-bar-actions">


                <button class="btn-icon" id="toggle-nav-btn" title="Toggle Navigation">


                    <span id="nav-toggle-icon">‚¨áÔ∏è</span>


                </button>

                <button class="btn-icon quick-search" title="Quick Search">

                    <span>üîç</span>

                </button>

                <button class="btn-icon theme-toggle" title="Toggle Theme">

                    <span>üåô</span>

                </button>


                <button class="btn-icon" id="top-menu-btn" title="Menu">


                    <span>‚ò∞</span>


                </button>

            </div>

        </header>




        <!-- Top Menu Dropdown -->


        <div class="top-menu-dropdown" id="top-menu-dropdown">


            <div class="top-menu-item" id="toggle-nav-item">


                <span class="icon" id="nav-toggle-icon">‚¨áÔ∏è</span>


                <span>Toggle Navigation</span>


            </div>


            <div class="top-menu-divider"></div>


            <div id="top-menu-user-section">


                <!-- User info or sign in button will be inserted here -->


            </div>


        </div>




        <!-- Page Content Container -->

        <div class="page-content">

            <!-- Dashboard Page -->

@@ -493,16 +519,15 @@ <h3>Add Link</h3>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>




    <script src="js/storage.js?v=18"></script>


    <script src="js/firebase-sync.js?v=18"></script>


    <script src="js/utils.js?v=18"></script>


    <script src="js/subjects.js?v=18"></script>


    <script src="js/assignments.js?v=18"></script>


    <script src="js/notes.js?v=18"></script>


    <script src="js/calendar.js?v=18"></script>


    <script src="js/timer.js?v=18"></script>


    <script src="js/wheel.js?v=18"></script>


    <script src="js/app.js?v=18"></script>


    <script src="js/storage.js?v=20"></script>


    <script src="js/firebase-sync.js?v=20"></script>


    <script src="js/utils.js?v=20"></script>


    <script src="js/subjects.js?v=20"></script>


    <script src="js/assignments.js?v=20"></script>


    <script src="js/notes.js?v=20"></script>


    <script src="js/calendar.js?v=20"></script>


    <script src="js/timer.js?v=20"></script>


    <script src="js/wheel.js?v=20"></script>


    <script src="js/app.js?v=20"></script>

</body>

</html>






Collapse file: js/app.js‚Äéjs/app.js‚Äé
Copy file name to clipboard
Expand all lines: js/app.js+48-18Lines changed: 48 additions & 18 deletions
Original file line numberDiff line numberDiff line change
@@ -504,6 +504,51 @@ function setupSettings() {

    });

}




// Setup collapsible nav sections


function setupCollapsibleNav() {


    const toolsToggle = document.getElementById('tools-toggle');


    const toolsSection = document.getElementById('tools-section');





    if (toolsToggle && toolsSection) {


        toolsToggle.addEventListener('click', () => {


            toolsToggle.classList.toggle('collapsed');


            toolsSection.classList.toggle('collapsed');


        });


    }


}





// Setup top menu dropdown


function setupTopMenu() {


    const topMenuBtn = document.getElementById('top-menu-btn');


    const topMenuDropdown = document.getElementById('top-menu-dropdown');


    const toggleNavItem = document.getElementById('toggle-nav-item');





    if (topMenuBtn) {


        topMenuBtn.addEventListener('click', (e) => {


            e.stopPropagation();


            topMenuDropdown.classList.toggle('active');


        });


    }





    // Close dropdown when clicking outside


    document.addEventListener('click', (e) => {


        if (topMenuDropdown && !topMenuDropdown.contains(e.target) && e.target !== topMenuBtn) {


            topMenuDropdown.classList.remove('active');


        }


    });





    // Nav toggle from dropdown (works on both desktop and mobile)


    if (toggleNavItem) {


        toggleNavItem.addEventListener('click', () => {


            const sidebar = document.querySelector('.sidebar');


            sidebar.classList.toggle('hidden');


            const isHidden = sidebar.classList.contains('hidden');


            document.getElementById('nav-toggle-icon').textContent = isHidden ? '‚¨ÜÔ∏è' : '‚¨áÔ∏è';


            topMenuDropdown.classList.remove('active');


        });


    }


}




// Initialize app

async function init() {

    console.log('üöÄ Student Task Manager initializing...');

@@ -513,6 +558,8 @@ async function init() {



    // Setup navigation

    setupNavigation();


    setupCollapsibleNav();


    setupTopMenu();

    setupQuickSearch();

    setupThemeToggle();



@@ -577,21 +624,7 @@ function setupAutoHideNav() {

    }

}




// Manual toggle navigation


function setupManualNavToggle() {


    const toggleBtn = document.getElementById('toggle-nav-btn');


    const sidebar = document.querySelector('.sidebar');





    if (!toggleBtn) return;





    toggleBtn.addEventListener('click', () => {


        sidebar.classList.toggle('hidden');


        const isHidden = sidebar.classList.contains('hidden');


        updateNavToggleIcon(isHidden);


    });


}





// Update toggle button icon


// Update toggle button icon (kept for backwards compatibility)

function updateNavToggleIcon(isHidden) {

    const icon = document.getElementById('nav-toggle-icon');

    if (icon) {

@@ -603,7 +636,4 @@ function updateNavToggleIcon(isHidden) {

document.addEventListener('DOMContentLoaded', () => {

    init();

    setupAutoHideNav();


    setupManualNavToggle();

});









Collapse file: js/firebase-sync.js‚Äéjs/firebase-sync.js‚Äé
Copy file name to clipboard
Expand all lines: js/firebase-sync.js+46-46Lines changed: 46 additions & 46 deletions
Original file line numberDiff line numberDiff line change
@@ -207,61 +207,61 @@ function setupRealtimeListeners() {



// UI Functions

function showLoginButton() {


  let loginBtn = document.getElementById('google-login-btn');


  if (!loginBtn) {


    loginBtn = document.createElement('button');


    loginBtn.id = 'google-login-btn';


    loginBtn.className = 'btn btn-primary';


    loginBtn.innerHTML = 'üîê Sign in';


    loginBtn.style.marginLeft = '12px';


    loginBtn.addEventListener('click', signInWithGoogle);





    const topBarActions = document.querySelector('.top-bar-actions');


    if (topBarActions) {


      topBarActions.insertBefore(loginBtn, topBarActions.firstChild);


    }


  // Login button in dropdown (both desktop and mobile)


  const userSection = document.getElementById('top-menu-user-section');


  if (userSection) {


    userSection.innerHTML = `


      <div class="top-menu-item" id="dropdown-sign-in-btn">


        <span class="icon">üîê</span>


        <span>Sign in with Google</span>


      </div>


    `;


    document.getElementById('dropdown-sign-in-btn').addEventListener('click', () => {


      signInWithGoogle();


      document.getElementById('top-menu-dropdown').classList.remove('active');


    });

  }


  loginBtn.style.display = 'inline-block';



  const userInfo = document.getElementById('user-info');

  if (userInfo) userInfo.style.display = 'none';

}



function showUserInfo(user) {


  const loginBtn = document.getElementById('google-login-btn');


  if (loginBtn) loginBtn.style.display = 'none';





  let userInfo = document.getElementById('user-info');


  if (!userInfo) {


    userInfo = document.createElement('div');


    userInfo.id = 'user-info';


    userInfo.style.display = 'flex';


    userInfo.style.alignItems = 'center';


    userInfo.style.gap = '8px';


    userInfo.style.marginLeft = '12px';





    const topBarActions = document.querySelector('.top-bar-actions');


    if (topBarActions) {


      topBarActions.insertBefore(userInfo, topBarActions.firstChild);


    }


  }




  const displayName = user.displayName || user.email.split('@')[0];


  userInfo.innerHTML = `


    ${user.photoURL ? `<img src="${user.photoURL}" alt="Profile" style="width: 32px; height: 32px; border-radius: 50%;">` : ''}


    <span style="font-size: 14px; color: var(--text-primary);">${displayName}</span>


    <button id="sync-now-btn" class="btn btn-secondary btn-sm" title="Sync Now">üîÑ</button>


    <button id="sign-out-btn" class="btn btn-secondary btn-sm">Sign Out</button>


  `;


  userInfo.style.display = 'flex';





  document.getElementById('sync-now-btn').addEventListener('click', async () => {


    await syncToFirestore();


    await syncFromFirestore();


    alert('‚úÖ Data synced!');


  });




  document.getElementById('sign-out-btn').addEventListener('click', signOutUser);


  // User info in dropdown (both desktop and mobile)


  const userSection = document.getElementById('top-menu-user-section');


  if (userSection) {


    userSection.innerHTML = `


      <div style="display: flex; align-items: center; gap: 8px; padding: 12px; border-bottom: 1px solid var(--border);">


        ${user.photoURL ? `<img src="${user.photoURL}" alt="Profile" style="width: 36px; height: 36px; border-radius: 50%;">` : ''}


        <div style="flex: 1;">


          <div style="font-size: 14px; font-weight: 500;">${displayName}</div>


          <div style="font-size: 12px; color: var(--text-secondary);">${user.email}</div>


        </div>


      </div>


      <div class="top-menu-item" id="dropdown-sync-btn">


        <span class="icon">üîÑ</span>


        <span>Sync Now</span>


      </div>


      <div class="top-menu-item" id="dropdown-sign-out-btn">


        <span class="icon">üö™</span>


        <span>Sign Out</span>


      </div>


    `;





    document.getElementById('dropdown-sync-btn').addEventListener('click', async () => {


      await syncToFirestore();


      await syncFromFirestore();


      alert('‚úÖ Data synced!');


      document.getElementById('top-menu-dropdown').classList.remove('active');


    });





    document.getElementById('dropdown-sign-out-btn').addEventListener('click', () => {


      signOutUser();


      document.getElementById('top-menu-dropdown').classList.remove('active');


    });


  }

}


